# ----------------------- FCM extract configuration file -----------------------
cfg::type                   bld
cfg::version                1.0


# ------------------------------------------------------------------------------
# Build information
# ------------------------------------------------------------------------------

# INC /home1/datawork/gboutin/trunk/NEMOGCM/TOOLS/COMPILE/arch_nemo.fcm # Start

#==========================================================
#    Automatically generated by Fcheck_archfile.sh from
#    /home1/datawork/gboutin/trunk/NEMOGCM/ARCH/arch-mpt_linux_datarmor.fcm
#==========================================================

# generic ifort compiler options for linux
# NCDF_INC    netcdf include file
# NCDF_LIB    netcdf library
# FC          Fortran compiler command
# FCFLAGS     Fortran compiler flags
# FFLAGS      Fortran 77 compiler flags
# LD          linker
# LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
# FPPFLAGS    pre-processing flags
# AR          assembler
# ARFLAGS     assembler flags
# MK          make
# USER_INC    additional include files for the compiler,  e.g. -I<include dir>
# USER_LIB    additional libraries to pass to the linker, e.g. -l<library>


#%NCDF_INC            -I/appli/netCDF/impi5-debug/include
#%NCDF_LIB            -L/appli/netCDF/impi5-debug/lib -lnetcdff
%NCDF_INC                   -I/appli/NETCDF/4.3.3.1-mpt-intel/include
%NCDF_LIB                   -L/appli/NETCDF/4.3.3.1-mpt-intel/lib -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lhdf5 -lz -lcurl

#%XIOS_HOME            /home1/datahome/xcouvela/XIOS/xios-2.0-mpt-oasis
#%XIOS_HOME            /home1/datahome/xcouvela/XIOS/xios-2.0-mpt

%XIOS_INC                   -I/home1/datahome/gboutin/XIOS/xios-2.0-mpt/inc
%XIOS_LIB                   -L/home1/datahome/gboutin/XIOS/xios-2.0-mpt/lib -lxios
#%XIOS_INC            -I/home1/datahome/gboutin/XIOS2/inc
#%XIOS_LIB            -L/home1/datahome/gboutin/XIOS2/lib -lxios
#%XIOS_INC             -I%XIOS_HOME/inc
#%XIOS_LIB             -L%XIOS_HOME/lib -lxios

%OASIS_HOME                 /home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi
#%OASIS_HOME           /home1/datahome/xcouvela/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi
%OASIS_INC                  -I/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/build/lib/psmile.MPI1 -I/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/build/lib/mct
%OASIS_LIB                  -L/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/lib -lpsmile.MPI1 -lmct -lmpeu -lscrip


%FC                         mpif90
%CPP                        fpp
%FCFLAGS                    -O2 -fno-alias -fno-fnalias -r8 -ip -ftz -sox -assume byterecl -convert big_endian
#%FCFLAGS 	    -g -traceback -check all -CB -debug all -fno-alias -fno-fnalias -r8 -ip -ftz -sox -assume byterecl -convert big_endian

%FFLAGS                     -O2 -fno-alias -fno-fnalias -r8 -ip -ftz -sox -assume byterecl -convert big_endian
%LD                         mpif90 -lstdc++ -lmpi
%FPPFLAGS                   -P -C
%LDFLAGS                    
%AR                         ar
%ARFLAGS                    -r
%MK                         gmake
%USER_INC                   -I/home1/datahome/gboutin/XIOS/xios-2.0-mpt/inc -I/appli/NETCDF/4.3.3.1-mpt-intel/include -I/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/build/lib/psmile.MPI1 -I/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/build/lib/mct
%USER_LIB                   -L/home1/datahome/gboutin/XIOS/xios-2.0-mpt/lib -lxios -L/appli/NETCDF/4.3.3.1-mpt-intel/lib -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lhdf5 -lz -lcurl -L/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/lib -lpsmile.MPI1 -lmct -lmpeu -lscrip
# INC /home1/datawork/gboutin/trunk/NEMOGCM/TOOLS/COMPILE/arch_nemo.fcm # End
# INC /home1/datawork/gboutin/trunk/NEMOGCM/TOOLS/COMPILE/cpp.fcm # Start
bld::tool::fppkeys          key_lim3 key_mpp_mpi key_nosignedzero key_iomput key_oasis3
# INC /home1/datawork/gboutin/trunk/NEMOGCM/TOOLS/COMPILE/cpp.fcm # End

search_src                  1

src::ioipsl                 /home1/datawork/gboutin/trunk/NEMOGCM/EXTERNAL/IOIPSL/src
src::nemo                   /home1/datawork/gboutin/trunk/NEMOGCM/CONFIG/TEST_CASES/clean_with_clement/WORK

bld::target                 nemo.exe
bld::exe_dep                


dir::root                   /home1/datawork/gboutin/trunk/NEMOGCM/CONFIG/TEST_CASES/clean_with_clement/BLD


bld::tool::cpp              fpp
bld::tool::fpp              fpp
bld::tool::fc               mpif90
bld::tool::fflags           -O2 -fno-alias -fno-fnalias -r8 -ip -ftz -sox -assume byterecl -convert big_endian -I/home1/datahome/gboutin/XIOS/xios-2.0-mpt/inc -I/appli/NETCDF/4.3.3.1-mpt-intel/include -I/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/build/lib/psmile.MPI1 -I/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/build/lib/mct
bld::tool::ld               mpif90 -lstdc++ -lmpi
bld::tool::ldflags           -L/home1/datahome/gboutin/XIOS/xios-2.0-mpt/lib -lxios -L/appli/NETCDF/4.3.3.1-mpt-intel/lib -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lhdf5 -lz -lcurl -L/home1/datahome/gboutin/OASIS3-MCT_2.0_branch/oasis3-mct/compile_oa3-mct_gfopenmpi/lib -lpsmile.MPI1 -lmct -lmpeu -lscrip
bld::tool::ar               ar
bld::tool::arflags          -r
bld::tool::make             gmake

# Pre-process code before analysing dependencies
bld::pp::ioipsl             1
bld::pp::nemo               1
bld::tool::fppflags::nemo   -P -C
bld::tool::fppflags::ioipsl -P -C

# Ignore the following dependencies
bld::excl_dep               inc::netcdf.inc
bld::excl_dep               inc::VT.inc
bld::excl_dep               use::netcdf
bld::excl_dep               use::xios
bld::excl_dep               h::netcdf.inc
bld::excl_dep               h::mpif.h
bld::excl_dep               inc::mpif.h
bld::excl_dep               inc::mpe_logf.h
bld::excl_dep               use::mpi
bld::excl_dep               use::mod_oasis
bld::excl_dep               use::mkl_dfti
# Don't generate interface files
bld::tool::geninterface     none

# Allow ".h90" as an extension for CPP include files
bld::infile_ext::h90        CPP::INCLUDE

# extension for module output
bld::outfile_ext::mod       .mod

# rename executable to nemo.exe
bld::exe_name::model        nemo.exe

